\documentclass{beamer}

\usepackage{svg}
\usepackage{amsmath}
\usepackage{listings}
\usepackage[utf8]{inputenc}
\usetheme{Madrid}

\title[Disjoint Union Types]{Disjoint Union Types in P0}
\subtitle{Project 9 / Group 8}
\author{Jason Balaci}
\institute{McMaster University}
\date{April 2021}


\AtBeginSection[]
{
  \begin{frame}
    \frametitle{Table of Contents}
    \tableofcontents[currentsection]
  \end{frame}
}

\begin{document}

\frame{\titlepage}

\begin{frame}
\frametitle{Table of Contents}
\tableofcontents
\end{frame}

\section{Objective \& Implementation}

\begin{frame}
\frametitle{What are Disjoint Union Types?}
This is a text in the first frame. This is a text in the first frame. This is a text in the first frame.\\
\end{frame}

\begin{frame}
\frametitle{How were they implemented?}
\end{frame}

\begin{frame}
\frametitle{Grammar Changes}

\begin{itemize}
 \item<1-> Text visible on slide 1
 \item<2-> Text visible on slide 2
 \item<3-> Text visible on slide 3
 \item<4-> Text visible on slide 4
\end{itemize}

\end{frame}

\section{Examples}

\begin{frame}
\frametitle{Example: Maybe \& Either}
\end{frame}

\begin{frame}
\frametitle{Example: Lists}
\end{frame}

\begin{frame}
\frametitle{Example: Strings}

\begin{block}{Remark}
Sample text
\end{block}
\end{frame}

\section{Implementation Evaluation and Notes}

\begin{frame}
\frametitle{Memory Impact \& Management}

Each instance of a DUT is located on the heap, and instances of local/global DUTs are pointers to the locations of their corresponding DUT on the heap.
\begin{itemize}
 \item <1-> Size of an allocation depends on the size of the variant being instantiated
 \item Offsets to accessing variables work similar to records, with a 4 byte offset for the variant id.
\end{itemize}


\begin{figure}
  \includesvg[width=0.9\textwidth]{../docs/img/memory_compressed.svg}
\end{figure}
\end{frame}

\begin{frame}
\frametitle{Example: Lists in Memory}
\begin{figure}
  \includesvg[width=0.9\textwidth]{../docs/img/memory_example_list_compressed.svg}
\end{figure}
\end{frame}


\begin{frame}
\frametitle{Notable Design Decisions}

\begin{itemize}
 \item<1-> Text visible on slide 1
 \item<2-> Text visible on slide 2
 \item<3-> Text visible on slide 3
 \item<4-> Text visible on slide 4
\end{itemize}

\end{frame}

\begin{frame}
\frametitle{Notes on Runtimes}
\begin{itemize}
    \item<1-> When working with DUTs/ADTs, we often tend to create recursive algorithms...
    \item<2-> This causes issues for \textbf{pywasm}
    \begin{itemize}
     \item <.-> Due to being interpreted in Python, a recursive call stack size limitation is imposed onto our programs.
    \end{itemize}

    \item<3-> Thankfully, \textbf{wasmer} has no issues!
    \item<4-> In-browser WebAssembly execution also has no issues, but we don't ship a web browser with the compiler.
\end{itemize}
\end{frame}

\section{Future Work}

\begin{frame}

\begin{itemize}
 \item<1-> Type variables!
 \begin{itemize}
  \item<.-> Polymorphic disjoint union types! No more StringLists, IntLists, BooleanLists!
  \item More code reuse!
 \end{itemize}
 
 \item<2-> More built-in types and syntactic sugars
 \begin{itemize}
 \item<.-> Strings, Lists, Maps as a basic set of built-in DUTs
 \item Stronger syntactic sugar for String generation (e.g., ``abcd..." for quickly instantiating large strings)
 \end{itemize}
 
 \item<3-> Improved Memory Management
 \begin{itemize}
  \item<.-> Memory freeing!
  \item Memory reuse!
  \item Allocation specialization for built-in DUTs!
 \end{itemize}

\end{itemize}

\end{frame}

\begin{frame}
\frametitle{References}
\end{frame}


\end{document}
