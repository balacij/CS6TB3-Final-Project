# Disjoint Union Types Project Notes

* `pywasm` has a _very small_ "call stack size" limit! This constrains the project in a rather odd way, but I can confidently say that pywasm is not "to spec" since WebAssembly does not actually have a call stack size limit (see [this discussion on GitHub](https://github.com/WebAssembly/design/issues/1163)). As such, the `pywasm` environment is not suitable for production usage. In particular, since we are converting `ADTKind` "constructors" into functions that actually do the magic behind the scenes, we can quickly run into problems with `pywasm`. Thankfully, it appears that `wasmer` is closer to spec with regards to this specific issue as it seems to have no apparent maximum "call stack size".
* The first 4 bytes of a program are to be always initialized to 0 so that we can _always_ have uninitialized ADT pointers pointing to it, then when this uninitialized ADT is read in, we will always see that it has kind = 0, meaning uninitialized.
* When ADTs are read in, we create "helper functions" for each ADT Kind. These "helper functions" are then used whenever we want to instantiate any particular ADT Kind. ADT Kind instantiation is hence secretly just a function call (to some function that creates an ADT on the heap and returns it's memory location).
* We've also backported the `<-` as an alternative for `←`, and `->` as an alternative for `→`.
* You may define ADTs using multiple lines to separate the ADT Kinds.
